pipeline{
    agent any 
    stages {
        stage ('image_build') {
        steps { sh ''' docker image build -t image1 ${WORKSPACE}/docker '''
        }

        
    }
    stage ('image_tagging') {
        steps { sh ''' docker image tag image1:latest  ranjana/image1:latest ''' }
    }
    
    stage ('image_push') {
        steps { sh ''' docker image push ranjana/image1:latest ''' }
    }
    
    stage ('deploy') { 
        steps { sh ''' docker container run -d --name c1 ranjana/image1:latest ''' }
}
